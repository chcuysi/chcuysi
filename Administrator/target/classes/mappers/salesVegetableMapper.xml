<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.SalesVegetableDao">

	<select id="getSalesVegetable" resultType="vo.SalesCategoryVO" parameterType="hashmap">
		select p.category category, p.category2 category2,sum(p.price*o.icount) AS sell_total
		FROM testproduct p INNER JOIN order1 o ON p.inum = o.inum
		where p.category = '채소' AND o.icount IS NOT NULL
		GROUP BY p.category, p.category2
		ORDER BY sum(p.price*o.icount) DESC
	</select>
	
</mapper>
